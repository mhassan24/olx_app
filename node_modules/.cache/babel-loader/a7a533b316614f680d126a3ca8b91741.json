{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mirza\\\\Downloads\\\\olx_clone-master\\\\olx_clone-master\\\\src\\\\Container\\\\Ecommerce\\\\Ecommerce.jsx\";\nimport React, { Component } from \"react\";\nimport NavBar from \"../../Component/NavBar/NavBar\";\nimport SideDrawer from \"../../Component/SideDrawer/SideDrawer\";\nimport BackDrop from \"../../Component/BackDrop/BackDrop\";\nimport SignUp from \"../../Component/SignUp/SignUp\";\nimport LogIn from \"../../Component/LogIn/LogIn\";\nimport Firebase from \"../../Firebase/Firebase\";\nimport Spinner from \"../../Component/Spinner/Spinner\";\nimport Profile from \"../../Component/Profile/Profile\";\nimport Explore from \"../../Component/Explore/Explore\";\nimport { Route, Switch, withRouter } from \"react-router-dom\";\nimport Modal from \"../../Component/Modal/Modal\";\nimport UserAds from \"../../Component/UserAds/UserAds\";\nimport CreateAd from \"../../Component/CreateAd/CreateAd\";\nimport Alert from \"../../Component/Alert/Alert\";\n\nclass Ecommerce extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      openSideDrawer: false,\n      signUp: {\n        name: \"\",\n        email: \"\",\n        password: \"\"\n      },\n      logIn: {\n        email: \"\",\n        password: \"\"\n      },\n      user: {\n        name: \"\",\n        email: \"\"\n      },\n      signUpError: \"\",\n      showSpinner: false,\n      logInError: \"\",\n      publicAds: [],\n      showModal: false,\n      modalInfo: {},\n      userAds: [],\n      createAd: {\n        title: \"\",\n        price: \"\",\n        description: \"\",\n        address: \"\",\n        ph_num: \"\",\n        img: \"\"\n      },\n      createAdError: \"\",\n      loader: false,\n      isSignIn: false,\n      alert: null\n    };\n\n    this.openSideDrawer = () => {\n      this.setState({\n        openSideDrawer: true\n      });\n    };\n\n    this.closeSideDrawer = () => {\n      this.setState({\n        openSideDrawer: false\n      });\n    };\n\n    this.signUpChange = (e, type) => {\n      let value = e.target.value;\n      let signUp = { ...this.state.signUp\n      };\n\n      if (type === \"name\") {\n        signUp.name = value;\n      } else if (type === \"email\") {\n        signUp.email = value;\n      } else {\n        signUp.password = value;\n      }\n\n      this.setState({\n        signUp\n      });\n    };\n\n    this.logInChange = (e, type) => {\n      let value = e.target.value;\n      let logIn = { ...this.state.logIn\n      };\n\n      if (type === \"email\") {\n        logIn.email = value;\n      } else {\n        logIn.password = value;\n      }\n\n      this.setState({\n        logIn\n      });\n    };\n\n    this.signUp = e => {\n      e.preventDefault();\n\n      if (this.state.signUp.name.trim() === \"\" || this.state.signUp.email.trim() === \"\" || this.state.signUp.password.trim() === \"\") {\n        this.setState({\n          signUpError: \"Please fill all fields\",\n          alert: /*#__PURE__*/React.createElement(Alert, {\n            msg: \"Please fill all the fields\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 16\n            }\n          })\n        });\n        setTimeout(() => this.setState({\n          alert: null\n        }), 6000);\n      } else {\n        this.setState({\n          showSpinner: true\n        });\n        let user = { ...this.state.user\n        };\n        Firebase.signUp(this.state.signUp.name, this.state.signUp.email, this.state.signUp.password).then(User => {\n          user.name = User.displayName;\n          user.email = User.email;\n          this.setState({\n            user,\n            showSpinner: false,\n            isSignIn: true,\n            alert: /*#__PURE__*/React.createElement(Alert, {\n              msg: \"You Signed Up\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 20\n              }\n            })\n          });\n          setTimeout(() => this.setState({\n            alert: null\n          }), 6000);\n          this.props.history.push(\"/\");\n        }).catch(er => {\n          console.log(er);\n          this.setState({\n            signUpError: er,\n            showSpinner: false\n          });\n        });\n      }\n    };\n\n    this.logIn = e => {\n      e.preventDefault();\n\n      if (this.state.logIn.email.trim() === \"\" || this.state.logIn.password.trim() === \"\") {\n        this.setState({\n          logInError: \"Please fill all fields\",\n          alert: /*#__PURE__*/React.createElement(Alert, {\n            msg: \"Please fill all the fields\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 16\n            }\n          })\n        });\n        setTimeout(() => this.setState({\n          alert: null\n        }), 6000);\n      } else {\n        this.setState({\n          showSpinner: true\n        });\n        let user = { ...this.state.user\n        };\n        Firebase.logIn(this.state.logIn.email, this.state.logIn.password).then(User => {\n          user.name = User.displayName;\n          user.email = User.email;\n          this.setState({\n            user,\n            showSpinner: false,\n            isSignIn: true,\n            alert: /*#__PURE__*/React.createElement(Alert, {\n              msg: \"You Logged In\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 20\n              }\n            })\n          });\n          setTimeout(() => this.setState({\n            alert: null\n          }), 6000);\n          this.props.history.push(\"/\");\n          this.fetchUserAds();\n        }).catch(er => {\n          console.log(er);\n          this.setState({\n            logInError: er,\n            showSpinner: false\n          });\n        });\n      }\n    };\n\n    this.signOut = () => {\n      Firebase.signOut().then(() => {\n        this.props.history.push(\"/\");\n        this.setState({\n          isSignIn: false,\n          alert: /*#__PURE__*/React.createElement(Alert, {\n            msg: \"You Signed Out\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 16\n            }\n          }),\n          userAds: []\n        });\n        setTimeout(() => this.setState({\n          alert: null\n        }), 6000);\n      });\n    };\n\n    this.showPublicAdDetails = index => {\n      let publicAds = [...this.state.publicAds];\n      this.setState({\n        modalInfo: publicAds[index],\n        showModal: true\n      });\n    };\n\n    this.showUserAdDetails = index => {\n      let userAds = [...this.state.userAds];\n      this.setState({\n        modalInfo: userAds[index],\n        showModal: true\n      });\n    };\n\n    this.closeAdDetails = () => {\n      this.setState({\n        showModal: false\n      });\n    };\n\n    this.createAdChange = (e, type) => {\n      let createAd = { ...this.state.createAd\n      };\n\n      if (type === \"title\") {\n        createAd.title = e.target.value;\n      } else if (type === \"price\") {\n        createAd.price = e.target.value;\n      } else if (type === \"description\") {\n        createAd.description = e.target.value;\n      } else if (type === \"address\") {\n        createAd.address = e.target.value;\n      } else if (type === \"ph_num\") {\n        createAd.ph_num = e.target.value;\n      }\n\n      this.setState({\n        createAd\n      });\n    };\n\n    this.imgChange = e => {\n      this.setState({\n        showSpinner: true\n      });\n      let file = e.target.files[0];\n      let createAd = { ...this.state.createAd\n      };\n      console.log(file);\n      Firebase.store(file).then(url => {\n        createAd.img = url;\n        this.setState({\n          createAd,\n          showSpinner: false\n        });\n      }).catch(er => {\n        this.setState({\n          createAdError: er,\n          showSpinner: false\n        });\n      });\n    };\n\n    this.submitAd = e => {\n      e.preventDefault();\n      let publicAds = [...this.state.publicAds];\n      let userAds = [...this.state.userAds];\n      let createAd = { ...this.state.createAd\n      };\n      let valid = true; // Validation\n\n      for (let key in createAd) {\n        if (createAd[key].trim() === \"\" && key !== \"img\") {\n          valid = false;\n          this.setState({\n            alert: /*#__PURE__*/React.createElement(Alert, {\n              msg: \"Please fill all the fields\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 32\n              }\n            })\n          });\n          setTimeout(() => this.setState({\n            alert: null\n          }), 6000);\n          break;\n        } else if (createAd[\"img\"].trim() === \"\") {\n          this.setState({\n            alert: /*#__PURE__*/React.createElement(Alert, {\n              msg: \"Please add an image\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 32\n              }\n            })\n          });\n          setTimeout(() => this.setState({\n            alert: null\n          }), 6000);\n          valid = false;\n          break;\n        }\n      }\n\n      if (valid) {\n        this.setState({\n          showSpinner: true,\n          createAdError: \"\"\n        });\n        createAd.userName = this.state.user.name;\n        Firebase.storeAd(createAd, this.state.user.email).then(() => {\n          publicAds.push(createAd);\n          userAds.push(createAd);\n          this.setState({\n            publicAds,\n            userAds,\n            showSpinner: false,\n            alert: /*#__PURE__*/React.createElement(Alert, {\n              msg: \"You have posted an Ad\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 20\n              }\n            })\n          });\n          this.props.history.push(\"/userads\");\n          setTimeout(() => this.setState({\n            alert: null\n          }), 6000);\n          console.log(\"Ad Stored\");\n        }).catch(er => {\n          console.log(er);\n          this.setState({\n            showSpinner: false\n          });\n        });\n      } else {\n        this.setState({\n          createAdError: \"Please fill all the fields\"\n        });\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.props.history.push(\"/\");\n    this.setState({\n      loader: true\n    });\n    let user = { ...this.state.user\n    }; // Getting user info\n\n    try {\n      Firebase.isSignIn().then(User => {\n        user.name = User.displayName;\n        user.email = User.email;\n        this.setState({\n          user,\n          isSignIn: true\n        });\n        this.fetchUserAds();\n      }).catch(() => {\n        console.log(\"not Signed In\");\n        this.setState({\n          isSignIn: false\n        });\n      }); // Getting data from firestore\n\n      Firebase.getPublicAds().then(publicAds => {\n        this.setState({\n          publicAds,\n          loader: false\n        });\n      }).catch(er => console.log(er));\n    } catch (e) {\n      console.log(e);\n    }\n  } // Animation of SideDrawer\n\n\n  fetchUserAds() {\n    Firebase.getUserAds(this.state.user.email).then(userAds => this.setState({\n      userAds\n    })).catch(er => console.log(er));\n  }\n\n  render() {\n    let backDrop = this.state.openSideDrawer ? /*#__PURE__*/React.createElement(BackDrop, {\n      close: this.closeSideDrawer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 7\n      }\n    }) : null;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 7\n      }\n    }, this.state.alert, /*#__PURE__*/React.createElement(NavBar, {\n      openSideDrawer: this.openSideDrawer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(SideDrawer, {\n      openSideDrawer: this.state.openSideDrawer,\n      closeSideDrawer: this.closeSideDrawer,\n      isSignIn: this.state.isSignIn,\n      signOut: this.signOut,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 9\n      }\n    }), backDrop, /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      path: \"/\",\n      exact: true,\n      render: () => /*#__PURE__*/React.createElement(Explore, {\n        publicAds: this.state.publicAds,\n        showDetails: this.showPublicAdDetails,\n        loader: this.state.loader,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 15\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/signup\",\n      exact: true,\n      render: () => /*#__PURE__*/React.createElement(SignUp, {\n        signUpChange: this.signUpChange,\n        signUp: this.signUp,\n        error: this.state.signUpError,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 15\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/login\",\n      exact: true,\n      render: () => /*#__PURE__*/React.createElement(LogIn, {\n        logInChange: this.logInChange,\n        logIn: this.logIn,\n        error: this.state.logInError,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 15\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/profile\",\n      exact: true,\n      render: () => /*#__PURE__*/React.createElement(Profile, {\n        user: this.state.user,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 27\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/userads\",\n      exact: true,\n      render: () => /*#__PURE__*/React.createElement(UserAds, {\n        userAds: this.state.userAds,\n        showDetails: this.showUserAdDetails,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 15\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/createad\",\n      exact: true,\n      render: () => /*#__PURE__*/React.createElement(CreateAd, {\n        inputChange: this.createAdChange,\n        imgChange: this.imgChange,\n        error: this.state.createAdError,\n        img: this.state.createAd.img,\n        submitAd: this.submitAd,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 15\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 11\n      }\n    })), this.state.showModal ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 447,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Modal, {\n      info: this.state.modalInfo,\n      close: this.closeAdDetails,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(BackDrop, {\n      close: this.closeAdDetails,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 13\n      }\n    })) : null, this.state.showSpinner ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Spinner, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(BackDrop, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 456,\n        columnNumber: 13\n      }\n    })) : null);\n  }\n\n}\n\nexport default withRouter(Ecommerce);","map":{"version":3,"sources":["C:/Users/Mirza/Downloads/olx_clone-master/olx_clone-master/src/Container/Ecommerce/Ecommerce.jsx"],"names":["React","Component","NavBar","SideDrawer","BackDrop","SignUp","LogIn","Firebase","Spinner","Profile","Explore","Route","Switch","withRouter","Modal","UserAds","CreateAd","Alert","Ecommerce","state","openSideDrawer","signUp","name","email","password","logIn","user","signUpError","showSpinner","logInError","publicAds","showModal","modalInfo","userAds","createAd","title","price","description","address","ph_num","img","createAdError","loader","isSignIn","alert","setState","closeSideDrawer","signUpChange","e","type","value","target","logInChange","preventDefault","trim","setTimeout","then","User","displayName","props","history","push","catch","er","console","log","fetchUserAds","signOut","showPublicAdDetails","index","showUserAdDetails","closeAdDetails","createAdChange","imgChange","file","files","store","url","submitAd","valid","key","userName","storeAd","componentDidMount","getPublicAds","getUserAds","render","backDrop"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,+BAAnB;AACA,OAAOC,UAAP,MAAuB,uCAAvB;AACA,OAAOC,QAAP,MAAqB,mCAArB;AACA,OAAOC,MAAP,MAAmB,+BAAnB;AACA,OAAOC,KAAP,MAAkB,6BAAlB;AACA,OAAOC,QAAP,MAAqB,yBAArB;AACA,OAAOC,OAAP,MAAoB,iCAApB;AACA,OAAOC,OAAP,MAAoB,iCAApB;AACA,OAAOC,OAAP,MAAoB,iCAApB;AACA,SAASC,KAAT,EAAgBC,MAAhB,EAAwBC,UAAxB,QAA0C,kBAA1C;AACA,OAAOC,KAAP,MAAkB,6BAAlB;AACA,OAAOC,OAAP,MAAoB,iCAApB;AACA,OAAOC,QAAP,MAAqB,mCAArB;AACA,OAAOC,KAAP,MAAkB,6BAAlB;;AAEA,MAAMC,SAAN,SAAwBjB,SAAxB,CAAkC;AAAA;AAAA;AAAA,SAChCkB,KADgC,GACxB;AACNC,MAAAA,cAAc,EAAE,KADV;AAGNC,MAAAA,MAAM,EAAE;AACNC,QAAAA,IAAI,EAAE,EADA;AAENC,QAAAA,KAAK,EAAE,EAFD;AAGNC,QAAAA,QAAQ,EAAE;AAHJ,OAHF;AASNC,MAAAA,KAAK,EAAE;AACLF,QAAAA,KAAK,EAAE,EADF;AAELC,QAAAA,QAAQ,EAAE;AAFL,OATD;AAcNE,MAAAA,IAAI,EAAE;AACJJ,QAAAA,IAAI,EAAE,EADF;AAEJC,QAAAA,KAAK,EAAE;AAFH,OAdA;AAmBNI,MAAAA,WAAW,EAAE,EAnBP;AAqBNC,MAAAA,WAAW,EAAE,KArBP;AAuBNC,MAAAA,UAAU,EAAE,EAvBN;AAyBNC,MAAAA,SAAS,EAAE,EAzBL;AA2BNC,MAAAA,SAAS,EAAE,KA3BL;AA6BNC,MAAAA,SAAS,EAAE,EA7BL;AA+BNC,MAAAA,OAAO,EAAE,EA/BH;AAiCNC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,KAAK,EAAE,EADC;AAERC,QAAAA,KAAK,EAAE,EAFC;AAGRC,QAAAA,WAAW,EAAE,EAHL;AAIRC,QAAAA,OAAO,EAAE,EAJD;AAKRC,QAAAA,MAAM,EAAE,EALA;AAMRC,QAAAA,GAAG,EAAE;AANG,OAjCJ;AA0CNC,MAAAA,aAAa,EAAE,EA1CT;AA2CNC,MAAAA,MAAM,EAAE,KA3CF;AA4CNC,MAAAA,QAAQ,EAAE,KA5CJ;AA6CNC,MAAAA,KAAK,EAAE;AA7CD,KADwB;;AAAA,SAmFhCxB,cAnFgC,GAmFf,MAAM;AACrB,WAAKyB,QAAL,CAAc;AAAEzB,QAAAA,cAAc,EAAE;AAAlB,OAAd;AACD,KArF+B;;AAAA,SAsFhC0B,eAtFgC,GAsFd,MAAM;AACtB,WAAKD,QAAL,CAAc;AAAEzB,QAAAA,cAAc,EAAE;AAAlB,OAAd;AACD,KAxF+B;;AAAA,SA2FhC2B,YA3FgC,GA2FjB,CAACC,CAAD,EAAIC,IAAJ,KAAa;AAC1B,UAAIC,KAAK,GAAGF,CAAC,CAACG,MAAF,CAASD,KAArB;AACA,UAAI7B,MAAM,GAAG,EAAE,GAAG,KAAKF,KAAL,CAAWE;AAAhB,OAAb;;AAEA,UAAI4B,IAAI,KAAK,MAAb,EAAqB;AACnB5B,QAAAA,MAAM,CAACC,IAAP,GAAc4B,KAAd;AACD,OAFD,MAEO,IAAID,IAAI,KAAK,OAAb,EAAsB;AAC3B5B,QAAAA,MAAM,CAACE,KAAP,GAAe2B,KAAf;AACD,OAFM,MAEA;AACL7B,QAAAA,MAAM,CAACG,QAAP,GAAkB0B,KAAlB;AACD;;AAED,WAAKL,QAAL,CAAc;AAAExB,QAAAA;AAAF,OAAd;AACD,KAxG+B;;AAAA,SA2GhC+B,WA3GgC,GA2GlB,CAACJ,CAAD,EAAIC,IAAJ,KAAa;AACzB,UAAIC,KAAK,GAAGF,CAAC,CAACG,MAAF,CAASD,KAArB;AACA,UAAIzB,KAAK,GAAG,EAAE,GAAG,KAAKN,KAAL,CAAWM;AAAhB,OAAZ;;AAEA,UAAIwB,IAAI,KAAK,OAAb,EAAsB;AACpBxB,QAAAA,KAAK,CAACF,KAAN,GAAc2B,KAAd;AACD,OAFD,MAEO;AACLzB,QAAAA,KAAK,CAACD,QAAN,GAAiB0B,KAAjB;AACD;;AAED,WAAKL,QAAL,CAAc;AAAEpB,QAAAA;AAAF,OAAd;AACD,KAtH+B;;AAAA,SAyHhCJ,MAzHgC,GAyHvB2B,CAAC,IAAI;AACZA,MAAAA,CAAC,CAACK,cAAF;;AAEA,UACE,KAAKlC,KAAL,CAAWE,MAAX,CAAkBC,IAAlB,CAAuBgC,IAAvB,OAAkC,EAAlC,IACA,KAAKnC,KAAL,CAAWE,MAAX,CAAkBE,KAAlB,CAAwB+B,IAAxB,OAAmC,EADnC,IAEA,KAAKnC,KAAL,CAAWE,MAAX,CAAkBG,QAAlB,CAA2B8B,IAA3B,OAAsC,EAHxC,EAIE;AACA,aAAKT,QAAL,CAAc;AACZlB,UAAAA,WAAW,EAAE,wBADD;AAEZiB,UAAAA,KAAK,eAAE,oBAAC,KAAD;AAAO,YAAA,GAAG,EAAC,4BAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFK,SAAd;AAIAW,QAAAA,UAAU,CAAC,MAAM,KAAKV,QAAL,CAAc;AAAED,UAAAA,KAAK,EAAE;AAAT,SAAd,CAAP,EAAuC,IAAvC,CAAV;AACD,OAVD,MAUO;AACL,aAAKC,QAAL,CAAc;AAAEjB,UAAAA,WAAW,EAAE;AAAf,SAAd;AAEA,YAAIF,IAAI,GAAG,EAAE,GAAG,KAAKP,KAAL,CAAWO;AAAhB,SAAX;AAEAnB,QAAAA,QAAQ,CAACc,MAAT,CACE,KAAKF,KAAL,CAAWE,MAAX,CAAkBC,IADpB,EAEE,KAAKH,KAAL,CAAWE,MAAX,CAAkBE,KAFpB,EAGE,KAAKJ,KAAL,CAAWE,MAAX,CAAkBG,QAHpB,EAKGgC,IALH,CAKQC,IAAI,IAAI;AACZ/B,UAAAA,IAAI,CAACJ,IAAL,GAAYmC,IAAI,CAACC,WAAjB;AACAhC,UAAAA,IAAI,CAACH,KAAL,GAAakC,IAAI,CAAClC,KAAlB;AAEA,eAAKsB,QAAL,CAAc;AACZnB,YAAAA,IADY;AAEZE,YAAAA,WAAW,EAAE,KAFD;AAGZe,YAAAA,QAAQ,EAAE,IAHE;AAIZC,YAAAA,KAAK,eAAE,oBAAC,KAAD;AAAO,cAAA,GAAG,EAAC,eAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJK,WAAd;AAOAW,UAAAA,UAAU,CAAC,MAAM,KAAKV,QAAL,CAAc;AAAED,YAAAA,KAAK,EAAE;AAAT,WAAd,CAAP,EAAuC,IAAvC,CAAV;AAEA,eAAKe,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACD,SAnBH,EAoBGC,KApBH,CAoBSC,EAAE,IAAI;AACXC,UAAAA,OAAO,CAACC,GAAR,CAAYF,EAAZ;AACA,eAAKlB,QAAL,CAAc;AAAElB,YAAAA,WAAW,EAAEoC,EAAf;AAAmBnC,YAAAA,WAAW,EAAE;AAAhC,WAAd;AACD,SAvBH;AAwBD;AACF,KApK+B;;AAAA,SAuKhCH,KAvKgC,GAuKxBuB,CAAC,IAAI;AACXA,MAAAA,CAAC,CAACK,cAAF;;AAEA,UACE,KAAKlC,KAAL,CAAWM,KAAX,CAAiBF,KAAjB,CAAuB+B,IAAvB,OAAkC,EAAlC,IACA,KAAKnC,KAAL,CAAWM,KAAX,CAAiBD,QAAjB,CAA0B8B,IAA1B,OAAqC,EAFvC,EAGE;AACA,aAAKT,QAAL,CAAc;AACZhB,UAAAA,UAAU,EAAE,wBADA;AAEZe,UAAAA,KAAK,eAAE,oBAAC,KAAD;AAAO,YAAA,GAAG,EAAC,4BAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFK,SAAd;AAIAW,QAAAA,UAAU,CAAC,MAAM,KAAKV,QAAL,CAAc;AAAED,UAAAA,KAAK,EAAE;AAAT,SAAd,CAAP,EAAuC,IAAvC,CAAV;AACD,OATD,MASO;AACL,aAAKC,QAAL,CAAc;AAAEjB,UAAAA,WAAW,EAAE;AAAf,SAAd;AAEA,YAAIF,IAAI,GAAG,EAAE,GAAG,KAAKP,KAAL,CAAWO;AAAhB,SAAX;AAEAnB,QAAAA,QAAQ,CAACkB,KAAT,CAAe,KAAKN,KAAL,CAAWM,KAAX,CAAiBF,KAAhC,EAAuC,KAAKJ,KAAL,CAAWM,KAAX,CAAiBD,QAAxD,EACGgC,IADH,CACQC,IAAI,IAAI;AACZ/B,UAAAA,IAAI,CAACJ,IAAL,GAAYmC,IAAI,CAACC,WAAjB;AACAhC,UAAAA,IAAI,CAACH,KAAL,GAAakC,IAAI,CAAClC,KAAlB;AAEA,eAAKsB,QAAL,CAAc;AACZnB,YAAAA,IADY;AAEZE,YAAAA,WAAW,EAAE,KAFD;AAGZe,YAAAA,QAAQ,EAAE,IAHE;AAIZC,YAAAA,KAAK,eAAE,oBAAC,KAAD;AAAO,cAAA,GAAG,EAAC,eAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJK,WAAd;AAOAW,UAAAA,UAAU,CAAC,MAAM,KAAKV,QAAL,CAAc;AAAED,YAAAA,KAAK,EAAE;AAAT,WAAd,CAAP,EAAuC,IAAvC,CAAV;AAEA,eAAKe,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AAEA,eAAKK,YAAL;AACD,SAjBH,EAkBGJ,KAlBH,CAkBSC,EAAE,IAAI;AACXC,UAAAA,OAAO,CAACC,GAAR,CAAYF,EAAZ;AACA,eAAKlB,QAAL,CAAc;AAAEhB,YAAAA,UAAU,EAAEkC,EAAd;AAAkBnC,YAAAA,WAAW,EAAE;AAA/B,WAAd;AACD,SArBH;AAsBD;AACF,KA/M+B;;AAAA,SAkNhCuC,OAlNgC,GAkNtB,MAAM;AACd5D,MAAAA,QAAQ,CAAC4D,OAAT,GAAmBX,IAAnB,CAAwB,MAAM;AAC5B,aAAKG,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACA,aAAKhB,QAAL,CAAc;AACZF,UAAAA,QAAQ,EAAE,KADE;AAEZC,UAAAA,KAAK,eAAE,oBAAC,KAAD;AAAO,YAAA,GAAG,EAAC,gBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFK;AAGZX,UAAAA,OAAO,EAAE;AAHG,SAAd;AAMAsB,QAAAA,UAAU,CAAC,MAAM,KAAKV,QAAL,CAAc;AAAED,UAAAA,KAAK,EAAE;AAAT,SAAd,CAAP,EAAuC,IAAvC,CAAV;AACD,OATD;AAUD,KA7N+B;;AAAA,SAgOhCwB,mBAhOgC,GAgOVC,KAAK,IAAI;AAC7B,UAAIvC,SAAS,GAAG,CAAC,GAAG,KAAKX,KAAL,CAAWW,SAAf,CAAhB;AACA,WAAKe,QAAL,CAAc;AAAEb,QAAAA,SAAS,EAAEF,SAAS,CAACuC,KAAD,CAAtB;AAA+BtC,QAAAA,SAAS,EAAE;AAA1C,OAAd;AACD,KAnO+B;;AAAA,SAsOhCuC,iBAtOgC,GAsOZD,KAAK,IAAI;AAC3B,UAAIpC,OAAO,GAAG,CAAC,GAAG,KAAKd,KAAL,CAAWc,OAAf,CAAd;AACA,WAAKY,QAAL,CAAc;AAAEb,QAAAA,SAAS,EAAEC,OAAO,CAACoC,KAAD,CAApB;AAA6BtC,QAAAA,SAAS,EAAE;AAAxC,OAAd;AACD,KAzO+B;;AAAA,SA2OhCwC,cA3OgC,GA2Of,MAAM;AACrB,WAAK1B,QAAL,CAAc;AAAEd,QAAAA,SAAS,EAAE;AAAb,OAAd;AACD,KA7O+B;;AAAA,SAgPhCyC,cAhPgC,GAgPf,CAACxB,CAAD,EAAIC,IAAJ,KAAa;AAC5B,UAAIf,QAAQ,GAAG,EAAE,GAAG,KAAKf,KAAL,CAAWe;AAAhB,OAAf;;AAEA,UAAIe,IAAI,KAAK,OAAb,EAAsB;AACpBf,QAAAA,QAAQ,CAACC,KAAT,GAAiBa,CAAC,CAACG,MAAF,CAASD,KAA1B;AACD,OAFD,MAEO,IAAID,IAAI,KAAK,OAAb,EAAsB;AAC3Bf,QAAAA,QAAQ,CAACE,KAAT,GAAiBY,CAAC,CAACG,MAAF,CAASD,KAA1B;AACD,OAFM,MAEA,IAAID,IAAI,KAAK,aAAb,EAA4B;AACjCf,QAAAA,QAAQ,CAACG,WAAT,GAAuBW,CAAC,CAACG,MAAF,CAASD,KAAhC;AACD,OAFM,MAEA,IAAID,IAAI,KAAK,SAAb,EAAwB;AAC7Bf,QAAAA,QAAQ,CAACI,OAAT,GAAmBU,CAAC,CAACG,MAAF,CAASD,KAA5B;AACD,OAFM,MAEA,IAAID,IAAI,KAAK,QAAb,EAAuB;AAC5Bf,QAAAA,QAAQ,CAACK,MAAT,GAAkBS,CAAC,CAACG,MAAF,CAASD,KAA3B;AACD;;AAED,WAAKL,QAAL,CAAc;AAAEX,QAAAA;AAAF,OAAd;AACD,KAhQ+B;;AAAA,SAmQhCuC,SAnQgC,GAmQpBzB,CAAC,IAAI;AACf,WAAKH,QAAL,CAAc;AAAEjB,QAAAA,WAAW,EAAE;AAAf,OAAd;AAEA,UAAI8C,IAAI,GAAG1B,CAAC,CAACG,MAAF,CAASwB,KAAT,CAAe,CAAf,CAAX;AAEA,UAAIzC,QAAQ,GAAG,EAAE,GAAG,KAAKf,KAAL,CAAWe;AAAhB,OAAf;AACA8B,MAAAA,OAAO,CAACC,GAAR,CAAYS,IAAZ;AAEAnE,MAAAA,QAAQ,CAACqE,KAAT,CAAeF,IAAf,EACGlB,IADH,CACQqB,GAAG,IAAI;AACX3C,QAAAA,QAAQ,CAACM,GAAT,GAAeqC,GAAf;AACA,aAAKhC,QAAL,CAAc;AAAEX,UAAAA,QAAF;AAAYN,UAAAA,WAAW,EAAE;AAAzB,SAAd;AACD,OAJH,EAKGkC,KALH,CAKSC,EAAE,IAAI;AACX,aAAKlB,QAAL,CAAc;AAAEJ,UAAAA,aAAa,EAAEsB,EAAjB;AAAqBnC,UAAAA,WAAW,EAAE;AAAlC,SAAd;AACD,OAPH;AAQD,KAnR+B;;AAAA,SAsRhCkD,QAtRgC,GAsRrB9B,CAAC,IAAI;AACdA,MAAAA,CAAC,CAACK,cAAF;AAEA,UAAIvB,SAAS,GAAG,CAAC,GAAG,KAAKX,KAAL,CAAWW,SAAf,CAAhB;AACA,UAAIG,OAAO,GAAG,CAAC,GAAG,KAAKd,KAAL,CAAWc,OAAf,CAAd;AAEA,UAAIC,QAAQ,GAAG,EAAE,GAAG,KAAKf,KAAL,CAAWe;AAAhB,OAAf;AACA,UAAI6C,KAAK,GAAG,IAAZ,CAPc,CAQd;;AACA,WAAK,IAAIC,GAAT,IAAgB9C,QAAhB,EAA0B;AACxB,YAAIA,QAAQ,CAAC8C,GAAD,CAAR,CAAc1B,IAAd,OAAyB,EAAzB,IAA+B0B,GAAG,KAAK,KAA3C,EAAkD;AAChDD,UAAAA,KAAK,GAAG,KAAR;AAEA,eAAKlC,QAAL,CAAc;AAAED,YAAAA,KAAK,eAAE,oBAAC,KAAD;AAAO,cAAA,GAAG,EAAC,4BAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAT,WAAd;AACAW,UAAAA,UAAU,CAAC,MAAM,KAAKV,QAAL,CAAc;AAAED,YAAAA,KAAK,EAAE;AAAT,WAAd,CAAP,EAAuC,IAAvC,CAAV;AACA;AACD,SAND,MAMO,IAAIV,QAAQ,CAAC,KAAD,CAAR,CAAgBoB,IAAhB,OAA2B,EAA/B,EAAmC;AACxC,eAAKT,QAAL,CAAc;AAAED,YAAAA,KAAK,eAAE,oBAAC,KAAD;AAAO,cAAA,GAAG,EAAC,qBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAT,WAAd;AACAW,UAAAA,UAAU,CAAC,MAAM,KAAKV,QAAL,CAAc;AAAED,YAAAA,KAAK,EAAE;AAAT,WAAd,CAAP,EAAuC,IAAvC,CAAV;AAEAmC,UAAAA,KAAK,GAAG,KAAR;AACA;AACD;AACF;;AAED,UAAIA,KAAJ,EAAW;AACT,aAAKlC,QAAL,CAAc;AAAEjB,UAAAA,WAAW,EAAE,IAAf;AAAqBa,UAAAA,aAAa,EAAE;AAApC,SAAd;AAEAP,QAAAA,QAAQ,CAAC+C,QAAT,GAAoB,KAAK9D,KAAL,CAAWO,IAAX,CAAgBJ,IAApC;AAEAf,QAAAA,QAAQ,CAAC2E,OAAT,CAAiBhD,QAAjB,EAA2B,KAAKf,KAAL,CAAWO,IAAX,CAAgBH,KAA3C,EACGiC,IADH,CACQ,MAAM;AACV1B,UAAAA,SAAS,CAAC+B,IAAV,CAAe3B,QAAf;AACAD,UAAAA,OAAO,CAAC4B,IAAR,CAAa3B,QAAb;AACA,eAAKW,QAAL,CAAc;AACZf,YAAAA,SADY;AAEZG,YAAAA,OAFY;AAGZL,YAAAA,WAAW,EAAE,KAHD;AAIZgB,YAAAA,KAAK,eAAE,oBAAC,KAAD;AAAO,cAAA,GAAG,EAAC,uBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJK,WAAd;AAOA,eAAKe,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,UAAxB;AAEAN,UAAAA,UAAU,CAAC,MAAM,KAAKV,QAAL,CAAc;AAAED,YAAAA,KAAK,EAAE;AAAT,WAAd,CAAP,EAAuC,IAAvC,CAAV;AAEAoB,UAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACD,SAhBH,EAiBGH,KAjBH,CAiBSC,EAAE,IAAI;AACXC,UAAAA,OAAO,CAACC,GAAR,CAAYF,EAAZ;AACA,eAAKlB,QAAL,CAAc;AAAEjB,YAAAA,WAAW,EAAE;AAAf,WAAd;AACD,SApBH;AAqBD,OA1BD,MA0BO;AACL,aAAKiB,QAAL,CAAc;AAAEJ,UAAAA,aAAa,EAAE;AAAjB,SAAd;AACD;AACF,KA5U+B;AAAA;;AAiDhC0C,EAAAA,iBAAiB,GAAG;AAClB,SAAKxB,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACA,SAAKhB,QAAL,CAAc;AAAEH,MAAAA,MAAM,EAAE;AAAV,KAAd;AAEA,QAAIhB,IAAI,GAAG,EAAE,GAAG,KAAKP,KAAL,CAAWO;AAAhB,KAAX,CAJkB,CAMlB;;AACA,QAAI;AACFnB,MAAAA,QAAQ,CAACoC,QAAT,GACGa,IADH,CACQC,IAAI,IAAI;AACZ/B,QAAAA,IAAI,CAACJ,IAAL,GAAYmC,IAAI,CAACC,WAAjB;AACAhC,QAAAA,IAAI,CAACH,KAAL,GAAakC,IAAI,CAAClC,KAAlB;AAEA,aAAKsB,QAAL,CAAc;AAAEnB,UAAAA,IAAF;AAAQiB,UAAAA,QAAQ,EAAE;AAAlB,SAAd;AAEA,aAAKuB,YAAL;AACD,OARH,EASGJ,KATH,CASS,MAAM;AACXE,QAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,aAAKpB,QAAL,CAAc;AAAEF,UAAAA,QAAQ,EAAE;AAAZ,SAAd;AACD,OAZH,EADE,CAeF;;AACApC,MAAAA,QAAQ,CAAC6E,YAAT,GACG5B,IADH,CACQ1B,SAAS,IAAI;AACjB,aAAKe,QAAL,CAAc;AAAEf,UAAAA,SAAF;AAAaY,UAAAA,MAAM,EAAE;AAArB,SAAd;AACD,OAHH,EAIGoB,KAJH,CAISC,EAAE,IAAIC,OAAO,CAACC,GAAR,CAAYF,EAAZ,CAJf;AAKD,KArBD,CAqBE,OAAOf,CAAP,EAAU;AACVgB,MAAAA,OAAO,CAACC,GAAR,CAAYjB,CAAZ;AACD;AACF,GAhF+B,CAkFhC;;;AA4PAkB,EAAAA,YAAY,GAAG;AACb3D,IAAAA,QAAQ,CAAC8E,UAAT,CAAoB,KAAKlE,KAAL,CAAWO,IAAX,CAAgBH,KAApC,EACGiC,IADH,CACQvB,OAAO,IAAI,KAAKY,QAAL,CAAc;AAAEZ,MAAAA;AAAF,KAAd,CADnB,EAEG6B,KAFH,CAESC,EAAE,IAAIC,OAAO,CAACC,GAAR,CAAYF,EAAZ,CAFf;AAGD;;AAEDuB,EAAAA,MAAM,GAAG;AACP,QAAIC,QAAQ,GAAG,KAAKpE,KAAL,CAAWC,cAAX,gBACb,oBAAC,QAAD;AAAU,MAAA,KAAK,EAAE,KAAK0B,eAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADa,GAEX,IAFJ;AAIA,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAK3B,KAAL,CAAWyB,KADd,eAGE,oBAAC,MAAD;AAAQ,MAAA,cAAc,EAAE,KAAKxB,cAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,eAKE,oBAAC,UAAD;AACE,MAAA,cAAc,EAAE,KAAKD,KAAL,CAAWC,cAD7B;AAEE,MAAA,eAAe,EAAE,KAAK0B,eAFxB;AAGE,MAAA,QAAQ,EAAE,KAAK3B,KAAL,CAAWwB,QAHvB;AAIE,MAAA,OAAO,EAAE,KAAKwB,OAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,EAYGoB,QAZH,eAcE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,KAAD;AACE,MAAA,IAAI,EAAC,GADP;AAEE,MAAA,KAAK,MAFP;AAGE,MAAA,MAAM,EAAE,mBACN,oBAAC,OAAD;AACE,QAAA,SAAS,EAAE,KAAKpE,KAAL,CAAWW,SADxB;AAEE,QAAA,WAAW,EAAE,KAAKsC,mBAFpB;AAGE,QAAA,MAAM,EAAE,KAAKjD,KAAL,CAAWuB,MAHrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAaE,oBAAC,KAAD;AACE,MAAA,IAAI,EAAC,SADP;AAEE,MAAA,KAAK,MAFP;AAGE,MAAA,MAAM,EAAE,mBACN,oBAAC,MAAD;AACE,QAAA,YAAY,EAAE,KAAKK,YADrB;AAEE,QAAA,MAAM,EAAE,KAAK1B,MAFf;AAGE,QAAA,KAAK,EAAE,KAAKF,KAAL,CAAWQ,WAHpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAbF,eAyBE,oBAAC,KAAD;AACE,MAAA,IAAI,EAAC,QADP;AAEE,MAAA,KAAK,MAFP;AAGE,MAAA,MAAM,EAAE,mBACN,oBAAC,KAAD;AACE,QAAA,WAAW,EAAE,KAAKyB,WADpB;AAEE,QAAA,KAAK,EAAE,KAAK3B,KAFd;AAGE,QAAA,KAAK,EAAE,KAAKN,KAAL,CAAWU,UAHpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAzBF,eAqCE,oBAAC,KAAD;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,KAAK,MAFP;AAGE,MAAA,MAAM,EAAE,mBAAM,oBAAC,OAAD;AAAS,QAAA,IAAI,EAAE,KAAKV,KAAL,CAAWO,IAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MArCF,eA2CE,oBAAC,KAAD;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,KAAK,MAFP;AAGE,MAAA,MAAM,EAAE,mBACN,oBAAC,OAAD;AACE,QAAA,OAAO,EAAE,KAAKP,KAAL,CAAWc,OADtB;AAEE,QAAA,WAAW,EAAE,KAAKqC,iBAFpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA3CF,eAsDE,oBAAC,KAAD;AACE,MAAA,IAAI,EAAC,WADP;AAEE,MAAA,KAAK,MAFP;AAGE,MAAA,MAAM,EAAE,mBACN,oBAAC,QAAD;AACE,QAAA,WAAW,EAAE,KAAKE,cADpB;AAEE,QAAA,SAAS,EAAE,KAAKC,SAFlB;AAGE,QAAA,KAAK,EAAE,KAAKtD,KAAL,CAAWsB,aAHpB;AAIE,QAAA,GAAG,EAAE,KAAKtB,KAAL,CAAWe,QAAX,CAAoBM,GAJ3B;AAKE,QAAA,QAAQ,EAAE,KAAKsC,QALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAtDF,CAdF,EAmFG,KAAK3D,KAAL,CAAWY,SAAX,gBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAE,KAAKZ,KAAL,CAAWa,SAAxB;AAAmC,MAAA,KAAK,EAAE,KAAKuC,cAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE,oBAAC,QAAD;AAAU,MAAA,KAAK,EAAE,KAAKA,cAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADD,GAKG,IAxFN,EA0FG,KAAKpD,KAAL,CAAWS,WAAX,gBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADD,GAKG,IA/FN,CADF;AAmGD;;AA5b+B;;AA+blC,eAAef,UAAU,CAACK,SAAD,CAAzB","sourcesContent":["import React, { Component } from \"react\";\r\nimport NavBar from \"../../Component/NavBar/NavBar\";\r\nimport SideDrawer from \"../../Component/SideDrawer/SideDrawer\";\r\nimport BackDrop from \"../../Component/BackDrop/BackDrop\";\r\nimport SignUp from \"../../Component/SignUp/SignUp\";\r\nimport LogIn from \"../../Component/LogIn/LogIn\";\r\nimport Firebase from \"../../Firebase/Firebase\";\r\nimport Spinner from \"../../Component/Spinner/Spinner\";\r\nimport Profile from \"../../Component/Profile/Profile\";\r\nimport Explore from \"../../Component/Explore/Explore\";\r\nimport { Route, Switch, withRouter } from \"react-router-dom\";\r\nimport Modal from \"../../Component/Modal/Modal\";\r\nimport UserAds from \"../../Component/UserAds/UserAds\";\r\nimport CreateAd from \"../../Component/CreateAd/CreateAd\";\r\nimport Alert from \"../../Component/Alert/Alert\";\r\n\r\nclass Ecommerce extends Component {\r\n  state = {\r\n    openSideDrawer: false,\r\n\r\n    signUp: {\r\n      name: \"\",\r\n      email: \"\",\r\n      password: \"\"\r\n    },\r\n\r\n    logIn: {\r\n      email: \"\",\r\n      password: \"\"\r\n    },\r\n\r\n    user: {\r\n      name: \"\",\r\n      email: \"\"\r\n    },\r\n\r\n    signUpError: \"\",\r\n\r\n    showSpinner: false,\r\n\r\n    logInError: \"\",\r\n\r\n    publicAds: [],\r\n\r\n    showModal: false,\r\n\r\n    modalInfo: {},\r\n\r\n    userAds: [],\r\n\r\n    createAd: {\r\n      title: \"\",\r\n      price: \"\",\r\n      description: \"\",\r\n      address: \"\",\r\n      ph_num: \"\",\r\n      img: \"\"\r\n    },\r\n\r\n    createAdError: \"\",\r\n    loader: false,\r\n    isSignIn: false,\r\n    alert: null\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.history.push(\"/\");\r\n    this.setState({ loader: true });\r\n\r\n    let user = { ...this.state.user };\r\n\r\n    // Getting user info\r\n    try {\r\n      Firebase.isSignIn()\r\n        .then(User => {\r\n          user.name = User.displayName;\r\n          user.email = User.email;\r\n\r\n          this.setState({ user, isSignIn: true });\r\n\r\n          this.fetchUserAds();\r\n        })\r\n        .catch(() => {\r\n          console.log(\"not Signed In\");\r\n          this.setState({ isSignIn: false });\r\n        });\r\n\r\n      // Getting data from firestore\r\n      Firebase.getPublicAds()\r\n        .then(publicAds => {\r\n          this.setState({ publicAds, loader: false });\r\n        })\r\n        .catch(er => console.log(er));\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  }\r\n\r\n  // Animation of SideDrawer\r\n  openSideDrawer = () => {\r\n    this.setState({ openSideDrawer: true });\r\n  };\r\n  closeSideDrawer = () => {\r\n    this.setState({ openSideDrawer: false });\r\n  };\r\n\r\n  // Storing signUp values\r\n  signUpChange = (e, type) => {\r\n    let value = e.target.value;\r\n    let signUp = { ...this.state.signUp };\r\n\r\n    if (type === \"name\") {\r\n      signUp.name = value;\r\n    } else if (type === \"email\") {\r\n      signUp.email = value;\r\n    } else {\r\n      signUp.password = value;\r\n    }\r\n\r\n    this.setState({ signUp });\r\n  };\r\n\r\n  // Storing logIn values\r\n  logInChange = (e, type) => {\r\n    let value = e.target.value;\r\n    let logIn = { ...this.state.logIn };\r\n\r\n    if (type === \"email\") {\r\n      logIn.email = value;\r\n    } else {\r\n      logIn.password = value;\r\n    }\r\n\r\n    this.setState({ logIn });\r\n  };\r\n\r\n  // SignUp\r\n  signUp = e => {\r\n    e.preventDefault();\r\n\r\n    if (\r\n      this.state.signUp.name.trim() === \"\" ||\r\n      this.state.signUp.email.trim() === \"\" ||\r\n      this.state.signUp.password.trim() === \"\"\r\n    ) {\r\n      this.setState({\r\n        signUpError: \"Please fill all fields\",\r\n        alert: <Alert msg=\"Please fill all the fields\" />\r\n      });\r\n      setTimeout(() => this.setState({ alert: null }), 6000);\r\n    } else {\r\n      this.setState({ showSpinner: true });\r\n\r\n      let user = { ...this.state.user };\r\n\r\n      Firebase.signUp(\r\n        this.state.signUp.name,\r\n        this.state.signUp.email,\r\n        this.state.signUp.password\r\n      )\r\n        .then(User => {\r\n          user.name = User.displayName;\r\n          user.email = User.email;\r\n\r\n          this.setState({\r\n            user,\r\n            showSpinner: false,\r\n            isSignIn: true,\r\n            alert: <Alert msg=\"You Signed Up\" />\r\n          });\r\n\r\n          setTimeout(() => this.setState({ alert: null }), 6000);\r\n\r\n          this.props.history.push(\"/\");\r\n        })\r\n        .catch(er => {\r\n          console.log(er);\r\n          this.setState({ signUpError: er, showSpinner: false });\r\n        });\r\n    }\r\n  };\r\n\r\n  // LogIn\r\n  logIn = e => {\r\n    e.preventDefault();\r\n\r\n    if (\r\n      this.state.logIn.email.trim() === \"\" ||\r\n      this.state.logIn.password.trim() === \"\"\r\n    ) {\r\n      this.setState({\r\n        logInError: \"Please fill all fields\",\r\n        alert: <Alert msg=\"Please fill all the fields\" />\r\n      });\r\n      setTimeout(() => this.setState({ alert: null }), 6000);\r\n    } else {\r\n      this.setState({ showSpinner: true });\r\n\r\n      let user = { ...this.state.user };\r\n\r\n      Firebase.logIn(this.state.logIn.email, this.state.logIn.password)\r\n        .then(User => {\r\n          user.name = User.displayName;\r\n          user.email = User.email;\r\n\r\n          this.setState({\r\n            user,\r\n            showSpinner: false,\r\n            isSignIn: true,\r\n            alert: <Alert msg=\"You Logged In\" />\r\n          });\r\n\r\n          setTimeout(() => this.setState({ alert: null }), 6000);\r\n\r\n          this.props.history.push(\"/\");\r\n\r\n          this.fetchUserAds();\r\n        })\r\n        .catch(er => {\r\n          console.log(er);\r\n          this.setState({ logInError: er, showSpinner: false });\r\n        });\r\n    }\r\n  };\r\n\r\n  // SignOut\r\n  signOut = () => {\r\n    Firebase.signOut().then(() => {\r\n      this.props.history.push(\"/\");\r\n      this.setState({\r\n        isSignIn: false,\r\n        alert: <Alert msg=\"You Signed Out\" />,\r\n        userAds: []\r\n      });\r\n\r\n      setTimeout(() => this.setState({ alert: null }), 6000);\r\n    });\r\n  };\r\n\r\n  // PublicAd Details\r\n  showPublicAdDetails = index => {\r\n    let publicAds = [...this.state.publicAds];\r\n    this.setState({ modalInfo: publicAds[index], showModal: true });\r\n  };\r\n\r\n  // UserAd Details\r\n  showUserAdDetails = index => {\r\n    let userAds = [...this.state.userAds];\r\n    this.setState({ modalInfo: userAds[index], showModal: true });\r\n  };\r\n\r\n  closeAdDetails = () => {\r\n    this.setState({ showModal: false });\r\n  };\r\n\r\n  // CreateAd change\r\n  createAdChange = (e, type) => {\r\n    let createAd = { ...this.state.createAd };\r\n\r\n    if (type === \"title\") {\r\n      createAd.title = e.target.value;\r\n    } else if (type === \"price\") {\r\n      createAd.price = e.target.value;\r\n    } else if (type === \"description\") {\r\n      createAd.description = e.target.value;\r\n    } else if (type === \"address\") {\r\n      createAd.address = e.target.value;\r\n    } else if (type === \"ph_num\") {\r\n      createAd.ph_num = e.target.value;\r\n    }\r\n\r\n    this.setState({ createAd });\r\n  };\r\n\r\n  // Storing image in firebase\r\n  imgChange = e => {\r\n    this.setState({ showSpinner: true });\r\n\r\n    let file = e.target.files[0];\r\n\r\n    let createAd = { ...this.state.createAd };\r\n    console.log(file);\r\n\r\n    Firebase.store(file)\r\n      .then(url => {\r\n        createAd.img = url;\r\n        this.setState({ createAd, showSpinner: false });\r\n      })\r\n      .catch(er => {\r\n        this.setState({ createAdError: er, showSpinner: false });\r\n      });\r\n  };\r\n\r\n  // Submitting Ad\r\n  submitAd = e => {\r\n    e.preventDefault();\r\n\r\n    let publicAds = [...this.state.publicAds];\r\n    let userAds = [...this.state.userAds];\r\n\r\n    let createAd = { ...this.state.createAd };\r\n    let valid = true;\r\n    // Validation\r\n    for (let key in createAd) {\r\n      if (createAd[key].trim() === \"\" && key !== \"img\") {\r\n        valid = false;\r\n\r\n        this.setState({ alert: <Alert msg=\"Please fill all the fields\" /> });\r\n        setTimeout(() => this.setState({ alert: null }), 6000);\r\n        break;\r\n      } else if (createAd[\"img\"].trim() === \"\") {\r\n        this.setState({ alert: <Alert msg=\"Please add an image\" /> });\r\n        setTimeout(() => this.setState({ alert: null }), 6000);\r\n\r\n        valid = false;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (valid) {\r\n      this.setState({ showSpinner: true, createAdError: \"\" });\r\n\r\n      createAd.userName = this.state.user.name;\r\n\r\n      Firebase.storeAd(createAd, this.state.user.email)\r\n        .then(() => {\r\n          publicAds.push(createAd);\r\n          userAds.push(createAd);\r\n          this.setState({\r\n            publicAds,\r\n            userAds,\r\n            showSpinner: false,\r\n            alert: <Alert msg=\"You have posted an Ad\" />\r\n          });\r\n\r\n          this.props.history.push(\"/userads\");\r\n\r\n          setTimeout(() => this.setState({ alert: null }), 6000);\r\n\r\n          console.log(\"Ad Stored\");\r\n        })\r\n        .catch(er => {\r\n          console.log(er);\r\n          this.setState({ showSpinner: false });\r\n        });\r\n    } else {\r\n      this.setState({ createAdError: \"Please fill all the fields\" });\r\n    }\r\n  };\r\n\r\n  fetchUserAds() {\r\n    Firebase.getUserAds(this.state.user.email)\r\n      .then(userAds => this.setState({ userAds }))\r\n      .catch(er => console.log(er));\r\n  }\r\n\r\n  render() {\r\n    let backDrop = this.state.openSideDrawer ? (\r\n      <BackDrop close={this.closeSideDrawer} />\r\n    ) : null;\r\n\r\n    return (\r\n      <div>\r\n        {this.state.alert}\r\n\r\n        <NavBar openSideDrawer={this.openSideDrawer} />\r\n\r\n        <SideDrawer\r\n          openSideDrawer={this.state.openSideDrawer}\r\n          closeSideDrawer={this.closeSideDrawer}\r\n          isSignIn={this.state.isSignIn}\r\n          signOut={this.signOut}\r\n        />\r\n\r\n        {backDrop}\r\n\r\n        <Switch>\r\n          <Route\r\n            path=\"/\"\r\n            exact\r\n            render={() => (\r\n              <Explore\r\n                publicAds={this.state.publicAds}\r\n                showDetails={this.showPublicAdDetails}\r\n                loader={this.state.loader}\r\n              />\r\n            )}\r\n          />\r\n\r\n          <Route\r\n            path=\"/signup\"\r\n            exact\r\n            render={() => (\r\n              <SignUp\r\n                signUpChange={this.signUpChange}\r\n                signUp={this.signUp}\r\n                error={this.state.signUpError}\r\n              />\r\n            )}\r\n          />\r\n\r\n          <Route\r\n            path=\"/login\"\r\n            exact\r\n            render={() => (\r\n              <LogIn\r\n                logInChange={this.logInChange}\r\n                logIn={this.logIn}\r\n                error={this.state.logInError}\r\n              />\r\n            )}\r\n          />\r\n\r\n          <Route\r\n            path=\"/profile\"\r\n            exact\r\n            render={() => <Profile user={this.state.user} />}\r\n          />\r\n\r\n          <Route\r\n            path=\"/userads\"\r\n            exact\r\n            render={() => (\r\n              <UserAds\r\n                userAds={this.state.userAds}\r\n                showDetails={this.showUserAdDetails}\r\n              />\r\n            )}\r\n          />\r\n\r\n          <Route\r\n            path=\"/createad\"\r\n            exact\r\n            render={() => (\r\n              <CreateAd\r\n                inputChange={this.createAdChange}\r\n                imgChange={this.imgChange}\r\n                error={this.state.createAdError}\r\n                img={this.state.createAd.img}\r\n                submitAd={this.submitAd}\r\n              />\r\n            )}\r\n          />\r\n        </Switch>\r\n\r\n        {this.state.showModal ? (\r\n          <div>\r\n            <Modal info={this.state.modalInfo} close={this.closeAdDetails} />\r\n            <BackDrop close={this.closeAdDetails} />\r\n          </div>\r\n        ) : null}\r\n\r\n        {this.state.showSpinner ? (\r\n          <div>\r\n            <Spinner />\r\n            <BackDrop />\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Ecommerce);\r\n"]},"metadata":{},"sourceType":"module"}